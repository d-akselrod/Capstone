\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
January 17, 2024 & 1.0 & Revion 0\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \wss{give url}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

This document presents the Module Interface Specifications (MIS) for \textbf{SweatSmart}, a fitness application designed to provide evidence-based workout plans using predictive analytics based on user data and methods proven through exercise science. \textit{SweatSmart} aims to lift the veil of mystery from the exercise world and enable people of all ages with little workout experience to infiltrate the market with a straightforward approach to fitness and workout prescriptions.

\subsection{Complementary Documents}
\begin{itemize}
    \item \textbf{System Requirement Specifications (SRS)}: This document outlines the detailed functional and non-functional requirements that \textit{SweatSmart} is designed to fulfill.
    \item \textbf{Module Guide (MG)}: The MG provides an overview of the systemâ€™s architecture, describing how different modules within \textit{SweatSmart} interact and work together to achieve the application's objectives.
\end{itemize}

\subsection{Repository and Implementation}
The complete documentation, including implementation details, source code, and additional resources for \textit{SweatSmart}, is maintained and regularly updated in our repository. This can be accessed at: \url{https://github.com/d-akselrod/SweatSmart/}.

This MIS document is structured to give a clear understanding of each module within \textit{SweatSmart}, focusing on the interfaces they expose and the interactions they have with each other. By defining these interfaces explicitly, the MIS ensures that any changes or enhancements to individual modules can be made with a comprehensive understanding of their impact on the overall system.

Throughout the development and maintenance of \textit{SweatSmart}, this document will serve as a key reference to ensure consistency, modularity, and scalability in the application's architecture.


\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule


\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & User Profile Management\\
& Workout Generation\\
& Data Management\\
& User Interaction\\ 
& Reporting and Feedback\\
& Chatbot System\\
\midrule

\multirow{3}{0.3\textwidth}{Software Decision} & Algorithm Selection\\
& Input Format\\
\bottomrule

\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\newpage
~\newpage

\section{MIS of User Profile Management Module}

\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}
The User Profile Management Module (M1) is responsible for handling all aspects of user profile data, including account creation, authentication, and personal information management within the SweatSmart application. It ensures the secure handling of sensitive user data and provides essential functionalities for user identification and profile customization.

\subsection{Uses}
M1 uses the Data Management Module (M3) for storing and retrieving user data. It also interfaces with the Algorithm Selection Module (M6) to provide necessary user data for personalized algorithm selection and with the Input Format Module (M7) for data validation and formatting. M1 is used to store all data pertaining to the functionality of our application. From user data, to exercise data, it will encompass our database.

\subsection{Syntax}

\subsubsection{Exported Constants}
\begin{itemize}
\item  MAX\_USERNAME\_LENGTH: Integer
\item MAX\_PASSWORD\_LENGTH: Integer 
\item MIN\_PASSWORD\_LENGTH: Integer
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c p{3.5cm} c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
createUser & String: username, String: password & Boolean & UserAlreadyExistsException \\
authenticateUser & String: username, String: password & Boolean & AuthenticationException \\
updateUser & String: username, UserProfile: user & Boolean & UserNotFoundException \\
deleteUser & String: username & Boolean & UserNotFoundException \\
getUserProfile & String: username & UserProfileData & UserNotFoundException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item userDatabase: Map\textless String, UserProfileData\textgreater
\end{itemize}

\subsubsection{Environment Variables}
\begin{itemize}
\item userProfileDB: a database for storing user information.
\end{itemize}

\subsubsection{Assumptions}
\begin{itemize}
\item createUser is called only after checking that the username does not exist.
\item updateUser and deleteUser are called only for existing users.

\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent createUser(username, password):
\begin{itemize}
\item transition: NA.
\item output: Adds a new user with the given username and password to userDatabase.
\item exception: NA.
\end{itemize}

\noindent authenticateUser(username, password):
\begin{itemize}
\item transition: NA.
\item output: Returns true if a username and password match an entry in userDatabase.
\item exception: NA.
\end{itemize}

\noindent updateUser(username, UserProfileData):
\begin{itemize}
\item transition: NA.
\item output: Returns true if the update is successful.
\item exception: NA.
\end{itemize}

\noindent deleteUser(username):
\begin{itemize}
\item transition: NA.
\item output: Returns true if the deletion is successful.
\item exception: NA.
\end{itemize}

\noindent getUserProfile(username):
\begin{itemize}
\item transition: NA.
\item output: Returns the UserProfileData for the given username from userDatabase.
\item exception: NA.
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}
\noindent validateUsername: String $\rightarrow$ Boolean
\begin{itemize}
\item Checks if the username meets the specified criteria (e.g., length, format).
\end{itemize}

\noindent validatePassword: String $\rightarrow$ Boolean
\begin{itemize}
\item Checks if the password meets the security criteria (e.g., length, complexity).
\end{itemize}

\section{MIS of Workout Generation Module}

\subsection{Module}
This module (M2) is used to generate workouts for a user based on some personal information. It will take in certain characteristics and goals from the user and then use it to generate a workout that can be used. It will return a workout list filled with exercises with the number of sets and reps corresponding to each, and the time it takes to complete it. 

\subsection{Uses}
M2 plays a pivotal role within the broader Management Information System (MIS) by seamlessly integrating with various modules to enhance the fitness experience for users. Leveraging the data stored in the User Profile Module, M2 tailors workout recommendations based on individual characteristics, goals, and preferences. The Data Management Module assists in the storage and retrieval of workout data, enabling the module to refine future recommendations and track user progress. Through the User Interaction Module, M2 provides an intuitive interface for users to input information and receive personalized workout plans, ensuring a user-friendly experience.

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c p{3cm} c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
generateWorkout & userProfile: UserProfile & List\textless Objects\textgreater exerciseList  & MissingProfileException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item workoutData: List\textless Workouts\textgreater
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Assumes that the User Profile Management Module (M1) provides accurate and up-to-date user characteristics and goals.
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent generateWorkout(userProfile):
\begin{itemize}
\item transition: Utilizes the user profile information to generate a personalized workout and adds the workout data to the workoutData set.
\item output: Returns a workout list filled with exercises, each specifying the number of sets and reps, and the time it takes to complete.
\item exception: There is no profile completed.
\end{itemize}

\subsubsection{Local Functions}
\noindent getUserProfileData(userProfile: UserProfile) UserProfileInfo
\begin{itemize}
\item Getting the data from the user profile in order to generate the workout.
\end{itemize}


\section{MIS of Data Management Module}

\subsection{Module}
This module acts as a data storage, where all data posts, retrievals, and other management operations are completed. It will make sure that the data is served correctly and efficiently whether it may be user or workout data. 

\subsection{Uses}
The Data Management module (M4) within the Management Information System (MIS) serves as the backbone for efficient storage and retrieval of critical information, encompassing both user and workout data. This module seamlessly integrates with other components to ensure the seamless functioning of the entire system. The Workout Generator Module leverages M4 to store generated workout data, enabling the module to refine future recommendations and track user progress. The Chatbot System Module benefits from M4 by accessing historical user interactions, enhancing the chatbot's ability to provide personalized responses. 

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c p{3.5cm} c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
storeUserData & userProfile: UserProfile & N/A & N/A \\
getUserData & Username: String & UserProfile & UserProfileNotFound \\
storeWorkoutData & Workout: Workout & N/A & N/A \\
getWorkoutData & Username: String & List\textless Workouts\textgreater & UsernameNotFound \\
storeChatData & Interaction: ChatbotInteraction & N/A & N/A \\
getChatData & Username: String & List\textless ChatbotInteraction\textgreater & UsernameNotFound \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
\item userData: Map of (username: String) to UserProfile
\item workoutData: Map of (username: String) to List of Workout
\item chatbotInteractionData: Map of (username: String) to List of ChatbotInteraction
\item feedbackData: Map of (username: String) to List of UserFeedback

\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Assumes that data provided to store functions is in a valid format.
\item Assumes the existence of a secure and reliable storage mechanism.
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent storeUserData(userProfile):
\begin{itemize}
\item transition: Stores the provided user profile data in the userData map.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent retrieveUserData(username):
\begin{itemize}
\item transition: N/A
\item output: Returns the user profile data associated with the provided username.
\item exception: Raises UserProfileNotFoundException if the specified user profile is not found.
\end{itemize}

\noindent storeWorkoutData(workout):
\begin{itemize}
\item transition: Stores the provided workout data in the workoutData map.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent retrieveWorkoutData(username):
\begin{itemize}
\item transition: N/A
\item output: Returns a list of workout data associated with the provided username.
\item exception: Raises UserProfileNotFoundException if the specified user profile is not found.
\end{itemize}

\noindent storeChatbotInteractionData(interaction):
\begin{itemize}
\item transition: Stores the provided chatbot interaction data in the chatbotInteractionData map.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent retrieveChatbotInteractionData(username):
\begin{itemize}
\item transition: N/A
\item output: Returns a list of chatbot interaction data associated with the provided username.
\item exception: Raises UserProfileNotFoundException if the specified user profile is not found.
\end{itemize}


\subsubsection{Local Functions}
N/A

\section{MIS of User Interaction Module}

\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}
This module showcases the user interface and interaction of the application. Through the use of inputs including buttons, text fields, or scrolling, users can interact with the interface in order to achieve the software's functionalities. 

\subsection{Uses}
The User Interaction module (M5) serves as the gateway for users to interact with the Management Information System (MIS). It seamlessly integrates with other modules to facilitate user engagement. Linked with the User Profile Module, it provides a user-friendly interface for inputting personal information and preferences. This module collaborates with the Workout Generator Module, allowing users to input characteristics and goals, receiving personalized workout plans. In conjunction with the Chatbot System Module, it enables dynamic back-and-forth messaging, answering fitness-related queries. The Data Management Module ensures efficient handling of user inputs, optimizing the overall user experience and contributing to the MIS cohesive functionality.

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c c c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getUserInput & N/A & String & N/A \\
displayMessage & String: message & N/A & N/A \\
storeWorkoutData & String: input & N/A & N/A \\

\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
N/A

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Assumes that the user interface components (buttons, text fields, scrolling) are available and functional.
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent getUserInput():
\begin{itemize}
\item transition: Waits for user input from the interface and returns the input as a string.
\item output: Returns the user input as a string.
\item exception: NA.
\end{itemize}

\noindent displayMessage(message):
\begin{itemize}
\item transition: Displays the provided message on the user interface.
\item output:  None
\item exception:  None
\end{itemize}

\noindent processUserInput(input):
\begin{itemize}
\item transition: Processes the user input received from the interface.
\item output:  None
\item exception:  None
\end{itemize}


\subsubsection{Local Functions}
N/A

\section{MIS of Reporting and Feedback Module}

\subsection{Module}
This module is used to understand user satisfaction by taking in user feedback. The user feedback is collected, processed, and served in order to provide the user with improvements and other workout insights by generating reports. 

\subsection{Uses}
The Reporting and Feedback module (M6) is integral to the Management Information System, focusing on user satisfaction and system enhancement. It collaborates with the User Interaction Module to collect and process user feedback. The Data Management Module efficiently stores and retrieves feedback data. Teaming up with the Workout Generator Module, it generates reports for users, providing insights into their progress and suggesting improvements. The Chatbot System Module benefits from this feedback loop, refining responses. Overall, M1.5 plays a vital role in maintaining user satisfaction, fostering system improvements, and creating a responsive MIS.

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c p{3.5cm} c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
SubmitFeedback & Feedback: UserFeed &  N/A & ProcessingError\\
generateUserReports & Username: String& List\textless UserReport \textgreater & UsernameNotFound \\
generateWorkoutReports & Username: String & List\textless WorkoutReport\textgreater & UsernameNotFound \\

\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item feedbackData: Map of (username: String) to List of UserFeedback
\end{itemize}


\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Assumes that user feedback provided to `submitFeedback` is in a valid format.
\item Assumes that there is a predefined structure for user and workout reports.
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent submitFeedback(feedback):
\begin{itemize}
\item transition: Stores the provided user feedback in the feedbackData map.
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent generateUserReports(username):
\begin{itemize}
\item transition: N/A
\item output:  Returns a list of user reports based on the feedback associated with the provided username.
\item exception: N/A
\end{itemize}

\noindent generateWorkoutReports(username):
\begin{itemize}
\item transition: N/A
\item output: Returns a list of workout reports based on the feedback associated with the provided username.
\item exception: N/A
\end{itemize}


\subsubsection{Local Functions}
N/A

\section{MIS of Algorithm Selection Module}


\subsection{Module}
This module selects the best algorithm that should be used to generate workouts. Through real-time data and analytics for the user, the module will choose and compare algorithms in which a workout will be generated that best suits the user's needs. 

\subsection{Uses}
The Algorithm Selection module (M7) is a crucial component in the Management Information System, dedicated to optimizing workout generation. Operating in real-time, this module assesses user data and analytics to select the most suitable algorithm for generating workouts. By comparing algorithms dynamically, it ensures that the generated workout aligns precisely with the user's needs. Collaborating with the Data Management Module for real-time data access, the Algorithm Selection Module enhances the effectiveness of the Workout Generator Module. This module plays a pivotal role in adapting workout recommendations based on evolving user profiles and preferences, contributing to the overall personalization and efficiency of the fitness management system.

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{c p{3.5cm} c c}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
selectAlgorithm & userProfile: User &  algorithm: String & AlgorithmNotFoundException \\

\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item userData: Map of (username: String) to UserProfile
\end{itemize}

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
\begin{itemize}
\item Assumes that the data received is accurate and up-to-date
\item Assumes the available algorithms are property implemented and configured
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent selectAlgorithm:
\begin{itemize}
\item transition: compares available algorithms based on user data
\item output: returns selected algorithm for Workout Generator Module
\item exception: None
\end{itemize}


\subsubsection{Local Functions}
N/A

\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\end{document}
